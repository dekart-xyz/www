<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=stylesheet href=https://dekart.xyz/main.85306b0cf095c6b464b6bfdb31a97eda21a188a1c78ad0da2b07be851d3eb1212b704a6088fe30d751acd53f93dce86fe10a69c7ced421aae4a700026b061842.css integrity="sha512-hTBrDPCVxrRktr/bMal+2iGhiKHHitDaKwe+hR0+sSErcEpgiP4w11Gs1T+T3Ohv4Qppx87UIarkpwACawYYQg==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>BigQuery Overture Maps Examples - Dekart</title><meta name=description content="Collection of kepler.gl maps created from Overture Data in BigQuery public dataset using SQL and Dekart."><link rel=canonical href=https://dekart.xyz/docs/about/overture-maps-examples/><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://dekart.xyz/docs/about/overture-maps-examples/77dc6f7f-c91c-4099-8dc3-8f043d46cdfb.png"><meta name=twitter:title content="BigQuery Overture Maps Examples"><meta name=twitter:description content="Collection of kepler.gl maps created from Overture Data in BigQuery public dataset using SQL and Dekart."><meta name=twitter:creator content="@delfrrr"><meta property="og:title" content="BigQuery Overture Maps Examples"><meta property="og:description" content="Collection of kepler.gl maps created from Overture Data in BigQuery public dataset using SQL and Dekart."><meta property="og:type" content="article"><meta property="og:url" content="https://dekart.xyz/docs/about/overture-maps-examples/"><meta property="og:image" content="https://dekart.xyz/docs/about/overture-maps-examples/77dc6f7f-c91c-4099-8dc3-8f043d46cdfb.png"><meta property="article:published_time" content="2024-08-28T07:26:19+02:00"><meta property="article:modified_time" content="2025-03-09T10:57:10+01:00"><meta property="og:site_name" content="Dekart"><meta property="og:locale" content="en_US"><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=https://dekart.xyz/apple-icon.png><link rel=icon type=image/png sizes=32x32 href=https://dekart.xyz/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://dekart.xyz/favicon-16x16.png><link rel=manifest href=https://dekart.xyz/site.webmanifest><script defer data-domain=dekart.xyz src=https://plausible.io/js/script.tagged-events.js></script></head><body><div class="header-bar fixed-top"></div><header class="navbar fixed-top navbar-expand-md navbar-light"><div class=container><input class="menu-btn order-0" type=checkbox id=menu-btn>
<label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label>
<a class="navbar-brand order-1 order-md-0 mr-auto" href=https://dekart.xyz/>Dekart</a><ul class="navbar-nav social-nav order-3 order-md-5"><li class=nav-item><a class=nav-link href=http://github.com/dekart-xyz/dekart><svg width="24" height="24" viewBox="0 0 1024 1024" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M512 0C229.12.0.0 229.12.0 512c0 226.56 146.56 417.92 350.08 485.76 25.6 4.48 35.2-10.88 35.2-24.32.0-12.16-.64-52.48-.64-95.36-128.64 23.68-161.92-31.36-172.16-60.16-5.76-14.72-30.72-60.16-52.48-72.32-17.92-9.6-43.52-33.28-.64-33.92 40.32-.64 69.12 37.12 78.72 52.48 46.08 77.44 119.68 55.68 149.12 42.24 4.48-33.28 17.92-55.68 32.64-68.48-113.92-12.8-232.96-56.96-232.96-252.8.0-55.68 19.84-101.76 52.48-137.6-5.12-12.8-23.04-65.28 5.12-135.68.0.0 42.88-13.44 140.8 52.48 40.96-11.52 84.48-17.28 128-17.28s87.04 5.76 128 17.28c97.92-66.56 140.8-52.48 140.8-52.48 28.16 70.4 10.24 122.88 5.12 135.68 32.64 35.84 52.48 81.28 52.48 137.6.0 196.48-119.68 240-233.6 252.8 18.56 16 34.56 46.72 34.56 94.72.0 68.48-.64 123.52-.64 140.8.0 13.44 9.6 29.44 35.2 24.32C877.44 929.92 1024 737.92 1024 512 1024 229.12 794.88.0 512 0z" fill="#1b1f23"/></svg><span class="ml-2 sr-only">GitHub</span></a></li></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav mr-auto order-5 order-md-2"><li class=nav-item><div id=suggestions class="shadow bg-white rounded"></div><a class="nav-link text-nowrap" href="https://cloud.dekart.xyz/?ref=login">Login</a></li><li class=nav-item><div id=suggestions class="shadow bg-white rounded"></div><a class="nav-link text-nowrap" href=https://dekart.xyz/cloud>Pricing</a></li><li class="nav-item active"><div id=suggestions class="shadow bg-white rounded"></div><a class="nav-link text-nowrap" href=https://dekart.xyz/docs/>Docs</a></li><li class=nav-item><div id=suggestions class="shadow bg-white rounded"></div><a class="nav-link text-nowrap" href=https://github.com/dekart-xyz/dekart>GitHub</a></li><li class=nav-item><div id=suggestions class="shadow bg-white rounded"></div><a class="nav-link text-nowrap" href=https://slack.dekart.xyz>Slack</a></li></ul><div class="break order-6 d-md-none"></div><form class="navbar-form flex-grow-1 order-7 order-md-3"><input id=userinput class="form-control is-search" type=search placeholder="Search docs..." aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded"></div></form></div></div></header><div class="wrap container" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar"><nav class=docs-links aria-label="Main navigation"><h3>About</h3><ul class=list-unstyled><li><a class=docs-link href=https://dekart.xyz/docs/about/playground/>BigQuery Playground</a></li><li><a class=docs-link href=https://dekart.xyz/docs/about/screencast/>Dekart Screencast</a></li></ul><h3>Map Examples</h3><ul class=list-unstyled><li><a class="docs-link active" href=https://dekart.xyz/docs/about/overture-maps-examples/>BigQuery Overture Maps</a></li><li><a class=docs-link href=https://dekart.xyz/docs/about/kepler-gl-map-examples/>BigQuery Public Datasets</a></li><li><a class=docs-link href=https://dekart.xyz/docs/about/map-templates/>Map Templates</a></li><li><a class=docs-link href=https://dekart.xyz/docs/about/snowflake-kepler-gl-examples/>Snowflake Free Datasets</a></li></ul><h3>Snowpark</h3><ul class=list-unstyled><li><a class=docs-link href=https://dekart.xyz/docs/snowflake-snowpark/about/>Dekart Snowpark Application</a></li></ul><h3>Configuration</h3><ul class=list-unstyled><li><a class=docs-link href=https://dekart.xyz/docs/configuration/environment-variables/>Environment Variables</a></li></ul><h3>Usage</h3><ul class=list-unstyled><li><a class=docs-link href=https://dekart.xyz/docs/usage/choose-bigquery-connection-method/>BigQuery Connection Guide</a></li><li><a class=docs-link href=https://dekart.xyz/docs/usage/google-cloud-grant-scopes-faq/>Google Cloud Grant Scopes</a></li><li><a class=docs-link href=https://dekart.xyz/docs/usage/query-parameters/>Query Parameters</a></li><li><a class=docs-link href=https://dekart.xyz/docs/usage/cloud-security-faq/>Security Considerations</a></li></ul><h3>Self-Hosting</h3><ul class=list-unstyled><li><a class=docs-link href=https://dekart.xyz/docs/self-hosting/app-engine/>Google App Engine</a></li><li><a class=docs-link href=https://dekart.xyz/docs/self-hosting/aws-ecs-terraform/>Amazon ECS</a></li><li><a class=docs-link href=https://dekart.xyz/docs/self-hosting/docker/>Docker</a></li><li><a class=docs-link href=https://dekart.xyz/docs/self-hosting/docker-compose/>Docker Compose</a></li><li><a class=docs-link href=https://dekart.xyz/docs/self-hosting/upgrade/>Upgrade to new version</a></li></ul><h3>Contributing</h3><ul class=list-unstyled><li><a class=docs-link href=https://dekart.xyz/docs/contributing/architecture-overview/>Architecture</a></li><li><a class=docs-link href=https://dekart.xyz/docs/contributing/build-from-source/>Build from Source</a></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#segment>Segment</a><ul><li><a href=#nevada-roads-by-speed-and-class>Nevada Roads by Speed and Class</a></li><li><a href=#berlin-roads>Berlin Roads</a></li><li><a href=#nevada-highways-and-main-roads>Nevada highways and main roads</a></li><li><a href=#germany--france-road-networks>Germany & France Road Networks</a></li><li><a href=#road-density-us>Road density US</a></li><li><a href=#joining-gps-probes-with-road-geometry>Joining GPS probes with road geometry</a></li></ul></li><li><a href=#division-area>Division Area</a><ul><li><a href=#berlin-boundary>Berlin Boundary</a></li><li><a href=#regions-and-cities-in-france>Regions and Cities in France</a></li></ul></li><li><a href=#land-use>Land Use</a><ul><li><a href=#berlin-playgrounds>Berlin Playgrounds</a></li><li><a href=#all-parks-in-london>All parks in London</a></li><li><a href=#ukraine-schools>Ukraine Schools</a></li></ul></li><li><a href=#places>Places</a><ul><li><a href=#london-ev-charging-density>London EV Charging Density</a></li><li><a href=#las-vegas-ev-charging>Las Vegas EV Charging</a></li><li><a href=#uk-pubs-density>UK pubs density</a></li></ul></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9"><h1>BigQuery Overture Maps Examples</h1><p class=lead></p><p>Collection of kepler.gl maps created from Overture Data in BigQuery public dataset using BigQuery SQL and Dekart. Each example includes a SQL query and a visualized map.</p><div class=gpt><p>All examples are created with <b>Overture Maps GPT</b></p><p><a href=https://chatgpt.com/g/g-onSLtzQQB-overture-maps-gpt class="btn btn-outline-primary" target=_blank>Get it Free</a></p></div><h2 id=segment>Segment<a href=#segment class=anchor aria-hidden=true>#</a></h2><p>The Overture Maps <code>segment</code> table represents paths, roads, and transportation segments, storing their geospatial data as LineStrings along with attributes like class, surface, speed limits, and access restrictionsâ€‹.</p><h3 id=nevada-roads-by-speed-and-class>Nevada Roads by Speed and Class<a href=#nevada-roads-by-speed-and-class class=anchor aria-hidden=true>#</a></h3><figure><img class="img-fluid lazyload" data-sizes=auto src=https://dekart.xyz/docs/about/overture-maps-examples/77dc6f7f-c91c-4099-8dc3-8f043d46cdfb_hu0fce0e9b3ddb2c00bed2bdc0b15b3dc9_1528539_20x0_resize_box_3.png data-srcset="https://dekart.xyz/docs/about/overture-maps-examples/77dc6f7f-c91c-4099-8dc3-8f043d46cdfb_hu0fce0e9b3ddb2c00bed2bdc0b15b3dc9_1528539_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/77dc6f7f-c91c-4099-8dc3-8f043d46cdfb_hu0fce0e9b3ddb2c00bed2bdc0b15b3dc9_1528539_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/77dc6f7f-c91c-4099-8dc3-8f043d46cdfb_hu0fce0e9b3ddb2c00bed2bdc0b15b3dc9_1528539_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/77dc6f7f-c91c-4099-8dc3-8f043d46cdfb_hu0fce0e9b3ddb2c00bed2bdc0b15b3dc9_1528539_512x0_resize_box_3.png 512w" width=1512 height=851><noscript><img class=img-fluid sizes=100vw srcset="https://dekart.xyz/docs/about/overture-maps-examples/77dc6f7f-c91c-4099-8dc3-8f043d46cdfb_hu0fce0e9b3ddb2c00bed2bdc0b15b3dc9_1528539_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/77dc6f7f-c91c-4099-8dc3-8f043d46cdfb_hu0fce0e9b3ddb2c00bed2bdc0b15b3dc9_1528539_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/77dc6f7f-c91c-4099-8dc3-8f043d46cdfb_hu0fce0e9b3ddb2c00bed2bdc0b15b3dc9_1528539_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/77dc6f7f-c91c-4099-8dc3-8f043d46cdfb_hu0fce0e9b3ddb2c00bed2bdc0b15b3dc9_1528539_512x0_resize_box_3.png 512w" src=https://dekart.xyz/docs/about/overture-maps-examples/77dc6f7f-c91c-4099-8dc3-8f043d46cdfb.png width=1512 height=851></noscript></figure><p class=view-on-map><a href="https://cloud.dekart.xyz/reports/77dc6f7f-c91c-4099-8dc3-8f043d46cdfb/source?ref=dekart-xyz-view-map" target=_blank class="btn btn-outline-primary btn-sm">View interactive map</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- Step 1: Get the geometry of Nevada
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>WITH</span><span class=w> </span><span class=n>nevada_geometry</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>SELECT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>geometry</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>FROM</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>`</span><span class=n>bigquery</span><span class=o>-</span><span class=k>public</span><span class=o>-</span><span class=k>data</span><span class=p>.</span><span class=n>overture_maps</span><span class=p>.</span><span class=n>division_area</span><span class=o>`</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>WHERE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>country</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;US&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>AND</span><span class=w> </span><span class=n>region</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;US-NV&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>AND</span><span class=w> </span><span class=n>subtype</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;region&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- Step 2: Select roads within Nevada
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>s</span><span class=p>.</span><span class=n>geometry</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>s</span><span class=p>.</span><span class=k>class</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>s</span><span class=p>.</span><span class=n>road</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>SAFE_CAST</span><span class=p>(</span><span class=n>JSON_EXTRACT_SCALAR</span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>road</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;$.restrictions.speed_limits[0].max_speed.value&#39;</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>INT64</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>speed_limit</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=o>`</span><span class=n>bigquery</span><span class=o>-</span><span class=k>public</span><span class=o>-</span><span class=k>data</span><span class=p>.</span><span class=n>overture_maps</span><span class=p>.</span><span class=n>segment</span><span class=o>`</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>s</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>nevada_geometry</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>ng</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>s</span><span class=p>.</span><span class=n>subtype</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;road&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>and</span><span class=w> </span><span class=k>class</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=p>(</span><span class=s1>&#39;track&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;driveway&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;path&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;footway&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;sidewalk&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;pedestrian&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;cycleway&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;steps&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;crosswalk&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;bridleway&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;alley&#39;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>AND</span><span class=w> </span><span class=n>ST_WITHIN</span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>geometry</span><span class=p>,</span><span class=w> </span><span class=n>ng</span><span class=p>.</span><span class=n>geometry</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p class=playground-link><a href='https://cloud.dekart.xyz/reports/77dc6f7f-c91c-4099-8dc3-8f043d46cdfb/source?ref=dekart-xyz-open-editor' target=_blank class="btn btn-outline-primary btn-sm">Open query in editor</a></p><h3 id=berlin-roads>Berlin Roads<a href=#berlin-roads class=anchor aria-hidden=true>#</a></h3><figure><img class="img-fluid lazyload" data-sizes=auto src=https://dekart.xyz/docs/about/overture-maps-examples/410b857a-aad1-4f05-8ddd-551d0f0fe650_hu178bb851d0f8ebdde70d6af3644e890c_1249045_20x0_resize_box_3.png data-srcset="https://dekart.xyz/docs/about/overture-maps-examples/410b857a-aad1-4f05-8ddd-551d0f0fe650_hu178bb851d0f8ebdde70d6af3644e890c_1249045_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/410b857a-aad1-4f05-8ddd-551d0f0fe650_hu178bb851d0f8ebdde70d6af3644e890c_1249045_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/410b857a-aad1-4f05-8ddd-551d0f0fe650_hu178bb851d0f8ebdde70d6af3644e890c_1249045_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/410b857a-aad1-4f05-8ddd-551d0f0fe650_hu178bb851d0f8ebdde70d6af3644e890c_1249045_512x0_resize_box_3.png 512w" width=3024 height=1701><noscript><img class=img-fluid sizes=100vw srcset="https://dekart.xyz/docs/about/overture-maps-examples/410b857a-aad1-4f05-8ddd-551d0f0fe650_hu178bb851d0f8ebdde70d6af3644e890c_1249045_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/410b857a-aad1-4f05-8ddd-551d0f0fe650_hu178bb851d0f8ebdde70d6af3644e890c_1249045_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/410b857a-aad1-4f05-8ddd-551d0f0fe650_hu178bb851d0f8ebdde70d6af3644e890c_1249045_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/410b857a-aad1-4f05-8ddd-551d0f0fe650_hu178bb851d0f8ebdde70d6af3644e890c_1249045_512x0_resize_box_3.png 512w" src=https://dekart.xyz/docs/about/overture-maps-examples/410b857a-aad1-4f05-8ddd-551d0f0fe650.png width=3024 height=1701></noscript></figure><p class=view-on-map><a href="https://cloud.dekart.xyz/reports/410b857a-aad1-4f05-8ddd-551d0f0fe650/source?ref=dekart-xyz-view-map" target=_blank class="btn btn-outline-primary btn-sm">View interactive map</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>WITH</span><span class=w> </span><span class=n>berlin_boundary</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>geometry</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FROM</span><span class=w> </span><span class=o>`</span><span class=n>bigquery</span><span class=o>-</span><span class=k>public</span><span class=o>-</span><span class=k>data</span><span class=p>.</span><span class=n>overture_maps</span><span class=p>.</span><span class=n>division_area</span><span class=o>`</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=k>LOWER</span><span class=p>(</span><span class=k>names</span><span class=p>.</span><span class=k>primary</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&#34;berlin&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>AND</span><span class=w> </span><span class=n>country</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&#34;DE&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>id</span><span class=p>,</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>geometry</span><span class=p>,</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=k>class</span><span class=p>,</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>subtype</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=o>`</span><span class=n>bigquery</span><span class=o>-</span><span class=k>public</span><span class=o>-</span><span class=k>data</span><span class=p>.</span><span class=n>overture_maps</span><span class=p>.</span><span class=n>segment</span><span class=o>`</span><span class=w> </span><span class=n>s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>JOIN</span><span class=w> </span><span class=n>berlin_boundary</span><span class=w> </span><span class=n>b</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>ON</span><span class=w> </span><span class=n>ST_CONTAINS</span><span class=p>(</span><span class=n>b</span><span class=p>.</span><span class=n>geometry</span><span class=p>,</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>geometry</span><span class=p>)</span><span class=w>  </span><span class=c1>-- Spatial filter for roads inside Berlin boundary
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>WHERE</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>subtype</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;road&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>AND</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=k>class</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=s1>&#39;primary&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;secondary&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;tertiary&#39;</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><p class=playground-link><a href='https://cloud.dekart.xyz/reports/410b857a-aad1-4f05-8ddd-551d0f0fe650/source?ref=dekart-xyz-open-editor' target=_blank class="btn btn-outline-primary btn-sm">Open query in editor</a></p><h3 id=nevada-highways-and-main-roads>Nevada highways and main roads<a href=#nevada-highways-and-main-roads class=anchor aria-hidden=true>#</a></h3><figure><img class="img-fluid lazyload" data-sizes=auto src=https://dekart.xyz/docs/about/overture-maps-examples/db0e26c2-00b0-4f6b-8f21-a26ab312f9e1_hu1b5f3f8640cf1dcff58bc3db76d8bfaa_1631257_20x0_resize_box_3.png data-srcset="https://dekart.xyz/docs/about/overture-maps-examples/db0e26c2-00b0-4f6b-8f21-a26ab312f9e1_hu1b5f3f8640cf1dcff58bc3db76d8bfaa_1631257_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/db0e26c2-00b0-4f6b-8f21-a26ab312f9e1_hu1b5f3f8640cf1dcff58bc3db76d8bfaa_1631257_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/db0e26c2-00b0-4f6b-8f21-a26ab312f9e1_hu1b5f3f8640cf1dcff58bc3db76d8bfaa_1631257_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/db0e26c2-00b0-4f6b-8f21-a26ab312f9e1_hu1b5f3f8640cf1dcff58bc3db76d8bfaa_1631257_512x0_resize_box_3.png 512w" width=3024 height=1701><noscript><img class=img-fluid sizes=100vw srcset="https://dekart.xyz/docs/about/overture-maps-examples/db0e26c2-00b0-4f6b-8f21-a26ab312f9e1_hu1b5f3f8640cf1dcff58bc3db76d8bfaa_1631257_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/db0e26c2-00b0-4f6b-8f21-a26ab312f9e1_hu1b5f3f8640cf1dcff58bc3db76d8bfaa_1631257_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/db0e26c2-00b0-4f6b-8f21-a26ab312f9e1_hu1b5f3f8640cf1dcff58bc3db76d8bfaa_1631257_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/db0e26c2-00b0-4f6b-8f21-a26ab312f9e1_hu1b5f3f8640cf1dcff58bc3db76d8bfaa_1631257_512x0_resize_box_3.png 512w" src=https://dekart.xyz/docs/about/overture-maps-examples/db0e26c2-00b0-4f6b-8f21-a26ab312f9e1.png width=3024 height=1701></noscript></figure><p class=view-on-map><a href="https://cloud.dekart.xyz/reports/db0e26c2-00b0-4f6b-8f21-a26ab312f9e1/source?ref=dekart-xyz-view-map" target=_blank class="btn btn-outline-primary btn-sm">View interactive map</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- Step 1: Get the simplified geometry of Nevada
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>WITH</span><span class=w> </span><span class=n>nevada_geometry</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>SELECT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>ST_SIMPLIFY</span><span class=p>(</span><span class=n>geometry</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>.</span><span class=mi>01</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>geometry</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>FROM</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>OVERTURE_MAPS__DIVISIONS</span><span class=p>.</span><span class=n>CARTO</span><span class=p>.</span><span class=n>DIVISION_AREA</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>WHERE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>country</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;US&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>AND</span><span class=w> </span><span class=n>region</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;US-NV&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>AND</span><span class=w> </span><span class=n>subtype</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;region&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- Step 2: Select main roads and highways within simplified Nevada geometry and convert geometry to WKT
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>ST_ASWKT</span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>geometry</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>geo</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>s</span><span class=p>.</span><span class=k>class</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>OVERTURE_MAPS__TRANSPORTATION</span><span class=p>.</span><span class=n>CARTO</span><span class=p>.</span><span class=n>SEGMENT</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>JOIN</span><span class=w> </span><span class=n>nevada_geometry</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>ng</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>ST_WITHIN</span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>geometry</span><span class=p>,</span><span class=w> </span><span class=n>ng</span><span class=p>.</span><span class=n>geometry</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>s</span><span class=p>.</span><span class=n>subtype</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;road&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>AND</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=k>class</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=s1>&#39;primary&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;secondary&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;tertiary&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;trunk&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;motorway&#39;</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p class=playground-link><a href='https://cloud.dekart.xyz/reports/db0e26c2-00b0-4f6b-8f21-a26ab312f9e1/source?ref=dekart-xyz-open-editor' target=_blank class="btn btn-outline-primary btn-sm">Open query in editor</a></p><h3 id=germany--france-road-networks>Germany & France Road Networks<a href=#germany--france-road-networks class=anchor aria-hidden=true>#</a></h3><figure><img class="img-fluid lazyload" data-sizes=auto src=https://dekart.xyz/docs/about/overture-maps-examples/a4e308a3-b2e8-4183-bfd6-b68866209f50_hue13c4128df380c992373cefe2e73bf5c_1481648_20x0_resize_box_3.png data-srcset="https://dekart.xyz/docs/about/overture-maps-examples/a4e308a3-b2e8-4183-bfd6-b68866209f50_hue13c4128df380c992373cefe2e73bf5c_1481648_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/a4e308a3-b2e8-4183-bfd6-b68866209f50_hue13c4128df380c992373cefe2e73bf5c_1481648_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/a4e308a3-b2e8-4183-bfd6-b68866209f50_hue13c4128df380c992373cefe2e73bf5c_1481648_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/a4e308a3-b2e8-4183-bfd6-b68866209f50_hue13c4128df380c992373cefe2e73bf5c_1481648_512x0_resize_box_3.png 512w" width=2024 height=1139><noscript><img class=img-fluid sizes=100vw srcset="https://dekart.xyz/docs/about/overture-maps-examples/a4e308a3-b2e8-4183-bfd6-b68866209f50_hue13c4128df380c992373cefe2e73bf5c_1481648_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/a4e308a3-b2e8-4183-bfd6-b68866209f50_hue13c4128df380c992373cefe2e73bf5c_1481648_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/a4e308a3-b2e8-4183-bfd6-b68866209f50_hue13c4128df380c992373cefe2e73bf5c_1481648_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/a4e308a3-b2e8-4183-bfd6-b68866209f50_hue13c4128df380c992373cefe2e73bf5c_1481648_512x0_resize_box_3.png 512w" src=https://dekart.xyz/docs/about/overture-maps-examples/a4e308a3-b2e8-4183-bfd6-b68866209f50.png width=2024 height=1139></noscript></figure><p class=view-on-map><a href="https://cloud.dekart.xyz/reports/a4e308a3-b2e8-4183-bfd6-b68866209f50/source?ref=dekart-xyz-view-map" target=_blank class="btn btn-outline-primary btn-sm">View interactive map</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>WITH</span><span class=w> </span><span class=n>country_boundaries</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- Define the boundaries for Germany and France
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>geometry</span><span class=p>,</span><span class=w> </span><span class=n>country</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FROM</span><span class=w> </span><span class=o>`</span><span class=n>bigquery</span><span class=o>-</span><span class=k>public</span><span class=o>-</span><span class=k>data</span><span class=p>.</span><span class=n>overture_maps</span><span class=p>.</span><span class=n>division_area</span><span class=o>`</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=n>country</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=s2>&#34;DE&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;FR&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>AND</span><span class=w> </span><span class=n>subtype</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&#34;country&#34;</span><span class=w>  </span><span class=c1>-- Ensure we&#39;re selecting the entire country boundaries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>filtered_roads</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- Filter the roads inside the Germany and France boundaries that are accessible to cars, including main roads but excluding highways
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>id</span><span class=p>,</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>geometry</span><span class=p>,</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=k>class</span><span class=p>,</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>subtype</span><span class=p>,</span><span class=w> </span><span class=n>b</span><span class=p>.</span><span class=n>country</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>           </span><span class=n>ST_LENGTH</span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>geometry</span><span class=p>)</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1000</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>road_length_km</span><span class=w>  </span><span class=c1>-- Convert road length to kilometers
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>FROM</span><span class=w> </span><span class=o>`</span><span class=n>bigquery</span><span class=o>-</span><span class=k>public</span><span class=o>-</span><span class=k>data</span><span class=p>.</span><span class=n>overture_maps</span><span class=p>.</span><span class=n>segment</span><span class=o>`</span><span class=w> </span><span class=n>s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>JOIN</span><span class=w> </span><span class=n>country_boundaries</span><span class=w> </span><span class=n>b</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>ON</span><span class=w> </span><span class=n>ST_CONTAINS</span><span class=p>(</span><span class=n>b</span><span class=p>.</span><span class=n>geometry</span><span class=p>,</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>geometry</span><span class=p>)</span><span class=w>  </span><span class=c1>-- Spatial filter for roads inside Germany and France boundaries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>subtype</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;road&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>AND</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=k>class</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=s1>&#39;primary&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;secondary&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;tertiary&#39;</span><span class=p>)</span><span class=w>  </span><span class=c1>-- Main roads for traffic, excluding highways
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>hexagonized_roads</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- Assign each road segment to an H3 hexagon at level 7
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>SELECT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>id</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>country</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=o>`</span><span class=n>bqcarto</span><span class=p>.</span><span class=n>h3</span><span class=p>.</span><span class=n>ST_ASH3</span><span class=o>`</span><span class=p>(</span><span class=n>ST_CENTROID</span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>geometry</span><span class=p>),</span><span class=w> </span><span class=mi>7</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>h3_hexagon</span><span class=p>,</span><span class=w>  </span><span class=c1>-- H3 hexagon for each road segment at level 5
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>        </span><span class=n>road_length_km</span><span class=w>  </span><span class=c1>-- Use the length in kilometers
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>FROM</span><span class=w> </span><span class=n>filtered_roads</span><span class=w> </span><span class=n>s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- Aggregate the total length of roads for each hexagon and country
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>country</span><span class=p>,</span><span class=w> </span><span class=n>h3_hexagon</span><span class=p>,</span><span class=w> </span><span class=k>SUM</span><span class=p>(</span><span class=n>road_length_km</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>total_road_length_km</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>hexagonized_roads</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>country</span><span class=p>,</span><span class=w> </span><span class=n>h3_hexagon</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>total_road_length_km</span><span class=w> </span><span class=k>DESC</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><p class=playground-link><a href='https://cloud.dekart.xyz/reports/a4e308a3-b2e8-4183-bfd6-b68866209f50/source?ref=dekart-xyz-open-editor' target=_blank class="btn btn-outline-primary btn-sm">Open query in editor</a></p><h3 id=road-density-us>Road density US<a href=#road-density-us class=anchor aria-hidden=true>#</a></h3><figure><img class="img-fluid lazyload" data-sizes=auto src=https://dekart.xyz/docs/about/overture-maps-examples/eb5b25bf-4c62-44bc-9e69-f0257134e3f8_hu0c63b10073d48710a5eef68c058225ee_2224200_20x0_resize_box_3.png data-srcset="https://dekart.xyz/docs/about/overture-maps-examples/eb5b25bf-4c62-44bc-9e69-f0257134e3f8_hu0c63b10073d48710a5eef68c058225ee_2224200_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/eb5b25bf-4c62-44bc-9e69-f0257134e3f8_hu0c63b10073d48710a5eef68c058225ee_2224200_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/eb5b25bf-4c62-44bc-9e69-f0257134e3f8_hu0c63b10073d48710a5eef68c058225ee_2224200_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/eb5b25bf-4c62-44bc-9e69-f0257134e3f8_hu0c63b10073d48710a5eef68c058225ee_2224200_512x0_resize_box_3.png 512w" width=2024 height=1139><noscript><img class=img-fluid sizes=100vw srcset="https://dekart.xyz/docs/about/overture-maps-examples/eb5b25bf-4c62-44bc-9e69-f0257134e3f8_hu0c63b10073d48710a5eef68c058225ee_2224200_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/eb5b25bf-4c62-44bc-9e69-f0257134e3f8_hu0c63b10073d48710a5eef68c058225ee_2224200_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/eb5b25bf-4c62-44bc-9e69-f0257134e3f8_hu0c63b10073d48710a5eef68c058225ee_2224200_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/eb5b25bf-4c62-44bc-9e69-f0257134e3f8_hu0c63b10073d48710a5eef68c058225ee_2224200_512x0_resize_box_3.png 512w" src=https://dekart.xyz/docs/about/overture-maps-examples/eb5b25bf-4c62-44bc-9e69-f0257134e3f8.png width=2024 height=1139></noscript></figure><p class=view-on-map><a href="https://cloud.dekart.xyz/reports/eb5b25bf-4c62-44bc-9e69-f0257134e3f8/source?ref=dekart-xyz-view-map" target=_blank class="btn btn-outline-primary btn-sm">View interactive map</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>WITH</span><span class=w> </span><span class=n>country_boundaries</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- Define the boundaries for the US
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>geometry</span><span class=p>,</span><span class=w> </span><span class=n>country</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FROM</span><span class=w> </span><span class=o>`</span><span class=n>bigquery</span><span class=o>-</span><span class=k>public</span><span class=o>-</span><span class=k>data</span><span class=p>.</span><span class=n>overture_maps</span><span class=p>.</span><span class=n>division_area</span><span class=o>`</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=n>country</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&#34;US&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>AND</span><span class=w> </span><span class=n>subtype</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&#34;country&#34;</span><span class=w>  </span><span class=c1>-- Ensure we&#39;re selecting the entire country boundaries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>filtered_roads</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- Filter the roads inside the US boundaries that are accessible to cars, including main roads but excluding highways
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>id</span><span class=p>,</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>geometry</span><span class=p>,</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=k>class</span><span class=p>,</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>subtype</span><span class=p>,</span><span class=w> </span><span class=n>b</span><span class=p>.</span><span class=n>country</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>           </span><span class=n>ST_LENGTH</span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>geometry</span><span class=p>)</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1000</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>road_length_km</span><span class=w>  </span><span class=c1>-- Convert road length to kilometers
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>FROM</span><span class=w> </span><span class=o>`</span><span class=n>bigquery</span><span class=o>-</span><span class=k>public</span><span class=o>-</span><span class=k>data</span><span class=p>.</span><span class=n>overture_maps</span><span class=p>.</span><span class=n>segment</span><span class=o>`</span><span class=w> </span><span class=n>s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>JOIN</span><span class=w> </span><span class=n>country_boundaries</span><span class=w> </span><span class=n>b</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>ON</span><span class=w> </span><span class=n>ST_CONTAINS</span><span class=p>(</span><span class=n>b</span><span class=p>.</span><span class=n>geometry</span><span class=p>,</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>geometry</span><span class=p>)</span><span class=w>  </span><span class=c1>-- Spatial filter for roads inside US boundaries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>subtype</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;road&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>AND</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=k>class</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=s1>&#39;primary&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;secondary&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;tertiary&#39;</span><span class=p>)</span><span class=w>  </span><span class=c1>-- Main roads for traffic, excluding highways
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>hexagonized_roads</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- Assign each road segment to an H3 hexagon at level 6
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>SELECT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>id</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>country</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=o>`</span><span class=n>bqcarto</span><span class=p>.</span><span class=n>h3</span><span class=p>.</span><span class=n>ST_ASH3</span><span class=o>`</span><span class=p>(</span><span class=n>ST_CENTROID</span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>geometry</span><span class=p>),</span><span class=w> </span><span class=mi>6</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>h3_hexagon</span><span class=p>,</span><span class=w>  </span><span class=c1>-- H3 hexagon for each road segment at level 5
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>        </span><span class=n>road_length_km</span><span class=w>  </span><span class=c1>-- Use the length in kilometers
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>FROM</span><span class=w> </span><span class=n>filtered_roads</span><span class=w> </span><span class=n>s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- Aggregate the total length of roads for each hexagon and country
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>country</span><span class=p>,</span><span class=w> </span><span class=n>h3_hexagon</span><span class=p>,</span><span class=w> </span><span class=k>SUM</span><span class=p>(</span><span class=n>road_length_km</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>total_road_length_km</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>hexagonized_roads</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>country</span><span class=p>,</span><span class=w> </span><span class=n>h3_hexagon</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>total_road_length_km</span><span class=w> </span><span class=k>DESC</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><p class=playground-link><a href='https://cloud.dekart.xyz/reports/eb5b25bf-4c62-44bc-9e69-f0257134e3f8/source?ref=dekart-xyz-open-editor' target=_blank class="btn btn-outline-primary btn-sm">Open query in editor</a></p><h3 id=joining-gps-probes-with-road-geometry>Joining GPS probes with road geometry<a href=#joining-gps-probes-with-road-geometry class=anchor aria-hidden=true>#</a></h3><figure><img class="img-fluid lazyload" data-sizes=auto src=https://dekart.xyz/docs/about/overture-maps-examples/8693cbeb-8369-4f38-91a4-5638589998e5_hu645266989d122e33f3b4a5a29e37a9af_1698567_20x0_resize_box_3.png data-srcset="https://dekart.xyz/docs/about/overture-maps-examples/8693cbeb-8369-4f38-91a4-5638589998e5_hu645266989d122e33f3b4a5a29e37a9af_1698567_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/8693cbeb-8369-4f38-91a4-5638589998e5_hu645266989d122e33f3b4a5a29e37a9af_1698567_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/8693cbeb-8369-4f38-91a4-5638589998e5_hu645266989d122e33f3b4a5a29e37a9af_1698567_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/8693cbeb-8369-4f38-91a4-5638589998e5_hu645266989d122e33f3b4a5a29e37a9af_1698567_512x0_resize_box_3.png 512w" width=1626 height=1286><noscript><img class=img-fluid sizes=100vw srcset="https://dekart.xyz/docs/about/overture-maps-examples/8693cbeb-8369-4f38-91a4-5638589998e5_hu645266989d122e33f3b4a5a29e37a9af_1698567_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/8693cbeb-8369-4f38-91a4-5638589998e5_hu645266989d122e33f3b4a5a29e37a9af_1698567_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/8693cbeb-8369-4f38-91a4-5638589998e5_hu645266989d122e33f3b4a5a29e37a9af_1698567_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/8693cbeb-8369-4f38-91a4-5638589998e5_hu645266989d122e33f3b4a5a29e37a9af_1698567_512x0_resize_box_3.png 512w" src=https://dekart.xyz/docs/about/overture-maps-examples/8693cbeb-8369-4f38-91a4-5638589998e5.png width=1626 height=1286></noscript></figure><p class=view-on-map><a href="https://cloud.dekart.xyz/reports/8693cbeb-8369-4f38-91a4-5638589998e5/source?ref=dekart-xyz-view-map" target=_blank class="btn btn-outline-primary btn-sm">View interactive map</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- Step 1: Generate H3 indexes for road geometries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>WITH</span><span class=w> </span><span class=n>brandenburg_gate</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>SELECT</span><span class=w> </span><span class=n>ST_GEOGPOINT</span><span class=p>(</span><span class=mi>13</span><span class=p>.</span><span class=mi>3777</span><span class=p>,</span><span class=w> </span><span class=mi>52</span><span class=p>.</span><span class=mi>5163</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=k>location</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>road_segments</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>SELECT</span><span class=w> </span><span class=n>id</span><span class=p>,</span><span class=w> </span><span class=n>geometry</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>FROM</span><span class=w> </span><span class=o>`</span><span class=n>bigquery</span><span class=o>-</span><span class=k>public</span><span class=o>-</span><span class=k>data</span><span class=p>.</span><span class=n>overture_maps</span><span class=p>.</span><span class=n>segment</span><span class=o>`</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>WHERE</span><span class=w> </span><span class=n>ST_DISTANCE</span><span class=p>(</span><span class=n>geometry</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=k>SELECT</span><span class=w> </span><span class=k>location</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>brandenburg_gate</span><span class=p>))</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=mi>10000</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>AND</span><span class=w> </span><span class=n>subtype</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;road&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>road_h3_cells</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>SELECT</span><span class=w> </span><span class=n>id</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>road_id</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>         </span><span class=n>geometry</span><span class=p>,</span><span class=w>  </span><span class=c1>-- Include geometry in the result
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>         </span><span class=n>bqcarto</span><span class=p>.</span><span class=n>h3</span><span class=p>.</span><span class=n>ST_ASH3</span><span class=p>(</span><span class=n>ST_LINEINTERPOLATEPOINT</span><span class=p>(</span><span class=n>geometry</span><span class=p>,</span><span class=w> </span><span class=n>ratio</span><span class=p>),</span><span class=w> </span><span class=mi>12</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>h3_index</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>FROM</span><span class=w> </span><span class=n>road_segments</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>UNNEST</span><span class=p>(</span><span class=n>GENERATE_ARRAY</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>.</span><span class=mi>01</span><span class=p>))</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>ratio</span><span class=w> </span><span class=c1>-- Generate H3 for road geometries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- Step 2: Generate H3 indexes for dekart-dev.strava.streams points
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>strava_h3_cells</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>SELECT</span><span class=w> </span><span class=n>bqcarto</span><span class=p>.</span><span class=n>h3</span><span class=p>.</span><span class=n>LONGLAT_ASH3</span><span class=p>(</span><span class=n>lng</span><span class=p>,</span><span class=w> </span><span class=n>lat</span><span class=p>,</span><span class=w> </span><span class=mi>12</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>h3_index</span><span class=p>,</span><span class=w> </span><span class=n>velocity_smooth</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>FROM</span><span class=w> </span><span class=o>`</span><span class=n>dekart</span><span class=o>-</span><span class=n>dev</span><span class=p>.</span><span class=n>strava</span><span class=p>.</span><span class=n>streams</span><span class=o>`</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>WHERE</span><span class=w> </span><span class=n>ST_DISTANCE</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>ST_GEOGPOINT</span><span class=p>(</span><span class=n>lng</span><span class=p>,</span><span class=w> </span><span class=n>lat</span><span class=p>),</span><span class=w> </span><span class=p>(</span><span class=k>SELECT</span><span class=w> </span><span class=k>location</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>brandenburg_gate</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=p>)</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=mi>10000</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- Step 3: Join road geometries with strava points based on H3 index
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>r</span><span class=p>.</span><span class=n>road_id</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>ANY_VALUE</span><span class=p>(</span><span class=n>r</span><span class=p>.</span><span class=n>geometry</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>geometry</span><span class=p>,</span><span class=w>  </span><span class=c1>-- Use ANY_VALUE() to select a representative geometry
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>  </span><span class=k>COUNT</span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>h3_index</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>num_strava_points</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>AVG</span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>velocity_smooth</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>avg_velocity_smooth</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>MAX</span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>velocity_smooth</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>max_velocity_smooth</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>road_h3_cells</span><span class=w> </span><span class=n>r</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>strava_h3_cells</span><span class=w> </span><span class=n>s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>ON</span><span class=w> </span><span class=n>r</span><span class=p>.</span><span class=n>h3_index</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>h3_index</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>r</span><span class=p>.</span><span class=n>road_id</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><p class=playground-link><a href='https://cloud.dekart.xyz/reports/8693cbeb-8369-4f38-91a4-5638589998e5/source?ref=dekart-xyz-open-editor' target=_blank class="btn btn-outline-primary btn-sm">Open query in editor</a></p><h2 id=division-area>Division Area<a href=#division-area class=anchor aria-hidden=true>#</a></h2><p>The Overture Maps division_area table contains boundary polygons for administrative areas, such as cities, countries, and neighborhoods, along with related attributes like subtype, population, and country codesâ€‹.</p><h3 id=berlin-boundary>Berlin Boundary<a href=#berlin-boundary class=anchor aria-hidden=true>#</a></h3><figure><img class="img-fluid lazyload" data-sizes=auto src=https://dekart.xyz/docs/about/overture-maps-examples/5f7144cd-24f0-4698-ba7e-a63e872a4659_hu5f00ddb62d8ae713fd92758fbf7a7209_597479_20x0_resize_box_3.png data-srcset="https://dekart.xyz/docs/about/overture-maps-examples/5f7144cd-24f0-4698-ba7e-a63e872a4659_hu5f00ddb62d8ae713fd92758fbf7a7209_597479_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/5f7144cd-24f0-4698-ba7e-a63e872a4659_hu5f00ddb62d8ae713fd92758fbf7a7209_597479_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/5f7144cd-24f0-4698-ba7e-a63e872a4659_hu5f00ddb62d8ae713fd92758fbf7a7209_597479_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/5f7144cd-24f0-4698-ba7e-a63e872a4659_hu5f00ddb62d8ae713fd92758fbf7a7209_597479_512x0_resize_box_3.png 512w" width=2024 height=1139><noscript><img class=img-fluid sizes=100vw srcset="https://dekart.xyz/docs/about/overture-maps-examples/5f7144cd-24f0-4698-ba7e-a63e872a4659_hu5f00ddb62d8ae713fd92758fbf7a7209_597479_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/5f7144cd-24f0-4698-ba7e-a63e872a4659_hu5f00ddb62d8ae713fd92758fbf7a7209_597479_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/5f7144cd-24f0-4698-ba7e-a63e872a4659_hu5f00ddb62d8ae713fd92758fbf7a7209_597479_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/5f7144cd-24f0-4698-ba7e-a63e872a4659_hu5f00ddb62d8ae713fd92758fbf7a7209_597479_512x0_resize_box_3.png 512w" src=https://dekart.xyz/docs/about/overture-maps-examples/5f7144cd-24f0-4698-ba7e-a63e872a4659.png width=2024 height=1139></noscript></figure><p class=view-on-map><a href="https://cloud.dekart.xyz/reports/5f7144cd-24f0-4698-ba7e-a63e872a4659/source?ref=dekart-xyz-view-map" target=_blank class="btn btn-outline-primary btn-sm">View interactive map</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=w>  </span><span class=k>SELECT</span><span class=w> </span><span class=n>id</span><span class=p>,</span><span class=w> </span><span class=n>geometry</span><span class=p>,</span><span class=w> </span><span class=k>names</span><span class=p>,</span><span class=w> </span><span class=n>subtype</span><span class=p>,</span><span class=w> </span><span class=n>country</span><span class=p>,</span><span class=w> </span><span class=n>region</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=o>`</span><span class=n>bigquery</span><span class=o>-</span><span class=k>public</span><span class=o>-</span><span class=k>data</span><span class=p>.</span><span class=n>overture_maps</span><span class=p>.</span><span class=n>division_area</span><span class=o>`</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=k>names</span><span class=p>.</span><span class=k>primary</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;Berlin&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>AND</span><span class=w> </span><span class=n>country</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;DE&#39;</span><span class=w>
</span></span></span></code></pre></div><p class=playground-link><a href='https://cloud.dekart.xyz/reports/5f7144cd-24f0-4698-ba7e-a63e872a4659/source?ref=dekart-xyz-open-editor' target=_blank class="btn btn-outline-primary btn-sm">Open query in editor</a></p><h3 id=regions-and-cities-in-france>Regions and Cities in France<a href=#regions-and-cities-in-france class=anchor aria-hidden=true>#</a></h3><figure><img class="img-fluid lazyload" data-sizes=auto src=https://dekart.xyz/docs/about/overture-maps-examples/ffbe0a05-7794-465c-ab5b-de54d69cdb38_hu59acd3243704f616782fd55d18f670f0_939831_20x0_resize_box_3.png data-srcset="https://dekart.xyz/docs/about/overture-maps-examples/ffbe0a05-7794-465c-ab5b-de54d69cdb38_hu59acd3243704f616782fd55d18f670f0_939831_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/ffbe0a05-7794-465c-ab5b-de54d69cdb38_hu59acd3243704f616782fd55d18f670f0_939831_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/ffbe0a05-7794-465c-ab5b-de54d69cdb38_hu59acd3243704f616782fd55d18f670f0_939831_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/ffbe0a05-7794-465c-ab5b-de54d69cdb38_hu59acd3243704f616782fd55d18f670f0_939831_512x0_resize_box_3.png 512w" width=2024 height=1139><noscript><img class=img-fluid sizes=100vw srcset="https://dekart.xyz/docs/about/overture-maps-examples/ffbe0a05-7794-465c-ab5b-de54d69cdb38_hu59acd3243704f616782fd55d18f670f0_939831_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/ffbe0a05-7794-465c-ab5b-de54d69cdb38_hu59acd3243704f616782fd55d18f670f0_939831_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/ffbe0a05-7794-465c-ab5b-de54d69cdb38_hu59acd3243704f616782fd55d18f670f0_939831_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/ffbe0a05-7794-465c-ab5b-de54d69cdb38_hu59acd3243704f616782fd55d18f670f0_939831_512x0_resize_box_3.png 512w" src=https://dekart.xyz/docs/about/overture-maps-examples/ffbe0a05-7794-465c-ab5b-de54d69cdb38.png width=2024 height=1139></noscript></figure><p class=view-on-map><a href="https://cloud.dekart.xyz/reports/ffbe0a05-7794-465c-ab5b-de54d69cdb38/source?ref=dekart-xyz-view-map" target=_blank class="btn btn-outline-primary btn-sm">View interactive map</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>division_id</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>names</span><span class=p>.</span><span class=k>primary</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>division_name</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>subtype</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>geometry</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=o>`</span><span class=n>bigquery</span><span class=o>-</span><span class=k>public</span><span class=o>-</span><span class=k>data</span><span class=p>.</span><span class=n>overture_maps</span><span class=p>.</span><span class=n>division_area</span><span class=o>`</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>country</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;FR&#39;</span><span class=w> </span><span class=c1>-- ISO code for France
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>  </span><span class=k>AND</span><span class=w> </span><span class=n>subtype</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=s1>&#39;region&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;city&#39;</span><span class=p>)</span><span class=w> </span><span class=c1>-- Filtering for regions and cities
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>subtype</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><p class=playground-link><a href='https://cloud.dekart.xyz/reports/ffbe0a05-7794-465c-ab5b-de54d69cdb38/source?ref=dekart-xyz-open-editor' target=_blank class="btn btn-outline-primary btn-sm">Open query in editor</a></p><h2 id=land-use>Land Use<a href=#land-use class=anchor aria-hidden=true>#</a></h2><p>The Overture Maps <code>land_use</code> table represents different types of land use, such as residential, agricultural, industrial, and others, by storing their spatial data as polygons or multipolygons, along with attributes like subtype, class, surface, and names.</p><h3 id=berlin-playgrounds>Berlin Playgrounds<a href=#berlin-playgrounds class=anchor aria-hidden=true>#</a></h3><figure><img class="img-fluid lazyload" data-sizes=auto src=https://dekart.xyz/docs/about/overture-maps-examples/34d0ba2c-0fd5-4323-a677-d5b05b65d86d_hu4860c348c3de838e3b9fbab12f0307ee_784191_20x0_resize_box_3.png data-srcset="https://dekart.xyz/docs/about/overture-maps-examples/34d0ba2c-0fd5-4323-a677-d5b05b65d86d_hu4860c348c3de838e3b9fbab12f0307ee_784191_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/34d0ba2c-0fd5-4323-a677-d5b05b65d86d_hu4860c348c3de838e3b9fbab12f0307ee_784191_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/34d0ba2c-0fd5-4323-a677-d5b05b65d86d_hu4860c348c3de838e3b9fbab12f0307ee_784191_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/34d0ba2c-0fd5-4323-a677-d5b05b65d86d_hu4860c348c3de838e3b9fbab12f0307ee_784191_512x0_resize_box_3.png 512w" width=2024 height=1139><noscript><img class=img-fluid sizes=100vw srcset="https://dekart.xyz/docs/about/overture-maps-examples/34d0ba2c-0fd5-4323-a677-d5b05b65d86d_hu4860c348c3de838e3b9fbab12f0307ee_784191_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/34d0ba2c-0fd5-4323-a677-d5b05b65d86d_hu4860c348c3de838e3b9fbab12f0307ee_784191_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/34d0ba2c-0fd5-4323-a677-d5b05b65d86d_hu4860c348c3de838e3b9fbab12f0307ee_784191_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/34d0ba2c-0fd5-4323-a677-d5b05b65d86d_hu4860c348c3de838e3b9fbab12f0307ee_784191_512x0_resize_box_3.png 512w" src=https://dekart.xyz/docs/about/overture-maps-examples/34d0ba2c-0fd5-4323-a677-d5b05b65d86d.png width=2024 height=1139></noscript></figure><p class=view-on-map><a href="https://cloud.dekart.xyz/reports/34d0ba2c-0fd5-4323-a677-d5b05b65d86d/source?ref=dekart-xyz-view-map" target=_blank class="btn btn-outline-primary btn-sm">View interactive map</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>id</span><span class=p>,</span><span class=w> </span><span class=n>subtype</span><span class=p>,</span><span class=w> </span><span class=k>class</span><span class=p>,</span><span class=w> </span><span class=n>geometry</span><span class=p>,</span><span class=w> </span><span class=n>surface</span><span class=p>,</span><span class=w> </span><span class=k>level</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=o>`</span><span class=n>bigquery</span><span class=o>-</span><span class=k>public</span><span class=o>-</span><span class=k>data</span><span class=p>.</span><span class=n>overture_maps</span><span class=p>.</span><span class=n>land_use</span><span class=o>`</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>ST_WITHIN</span><span class=p>(</span><span class=n>geometry</span><span class=p>,</span><span class=w> </span><span class=n>ST_GEOGFROMTEXT</span><span class=p>(</span><span class=s1>&#39;POLYGON((13.08835 52.33826, 13.76116 52.33826, 13.76116 52.67551, 13.08835 52.67551, 13.08835 52.33826))&#39;</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>AND</span><span class=w> </span><span class=k>LOWER</span><span class=p>(</span><span class=k>class</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;playground&#39;</span><span class=w>
</span></span></span></code></pre></div><p class=playground-link><a href='https://cloud.dekart.xyz/reports/34d0ba2c-0fd5-4323-a677-d5b05b65d86d/source?ref=dekart-xyz-open-editor' target=_blank class="btn btn-outline-primary btn-sm">Open query in editor</a></p><h3 id=all-parks-in-london>All parks in London<a href=#all-parks-in-london class=anchor aria-hidden=true>#</a></h3><figure><img class="img-fluid lazyload" data-sizes=auto src=https://dekart.xyz/docs/about/overture-maps-examples/8cb1566f-0237-4d99-9cc4-bdd70859763a_huf0385bac58b44ba541b690246c390c66_1049981_20x0_resize_box_3.png data-srcset="https://dekart.xyz/docs/about/overture-maps-examples/8cb1566f-0237-4d99-9cc4-bdd70859763a_huf0385bac58b44ba541b690246c390c66_1049981_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/8cb1566f-0237-4d99-9cc4-bdd70859763a_huf0385bac58b44ba541b690246c390c66_1049981_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/8cb1566f-0237-4d99-9cc4-bdd70859763a_huf0385bac58b44ba541b690246c390c66_1049981_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/8cb1566f-0237-4d99-9cc4-bdd70859763a_huf0385bac58b44ba541b690246c390c66_1049981_512x0_resize_box_3.png 512w" width=2024 height=1139><noscript><img class=img-fluid sizes=100vw srcset="https://dekart.xyz/docs/about/overture-maps-examples/8cb1566f-0237-4d99-9cc4-bdd70859763a_huf0385bac58b44ba541b690246c390c66_1049981_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/8cb1566f-0237-4d99-9cc4-bdd70859763a_huf0385bac58b44ba541b690246c390c66_1049981_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/8cb1566f-0237-4d99-9cc4-bdd70859763a_huf0385bac58b44ba541b690246c390c66_1049981_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/8cb1566f-0237-4d99-9cc4-bdd70859763a_huf0385bac58b44ba541b690246c390c66_1049981_512x0_resize_box_3.png 512w" src=https://dekart.xyz/docs/about/overture-maps-examples/8cb1566f-0237-4d99-9cc4-bdd70859763a.png width=2024 height=1139></noscript></figure><p class=view-on-map><a href="https://cloud.dekart.xyz/reports/8cb1566f-0237-4d99-9cc4-bdd70859763a/source?ref=dekart-xyz-view-map" target=_blank class="btn btn-outline-primary btn-sm">View interactive map</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>id</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>geometry</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>names</span><span class=p>.</span><span class=k>primary</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>primary_name</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>subtype</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>country</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>region</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>`</span><span class=n>bigquery</span><span class=o>-</span><span class=k>public</span><span class=o>-</span><span class=k>data</span><span class=p>.</span><span class=n>overture_maps</span><span class=p>.</span><span class=n>division_area</span><span class=o>`</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>names</span><span class=p>.</span><span class=k>primary</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&#34;London&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>AND</span><span class=w> </span><span class=n>country</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;GB&#39;</span><span class=w>  </span><span class=c1>-- ISO code for the United Kingdom
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>AND</span><span class=w> </span><span class=n>subtype</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;locality&#39;</span><span class=p>;</span><span class=w>  </span><span class=c1>-- Ensure we are selecting a city or locality
</span></span></span></code></pre></div><p class=playground-link><a href='https://cloud.dekart.xyz/reports/8cb1566f-0237-4d99-9cc4-bdd70859763a/source?ref=dekart-xyz-open-editor' target=_blank class="btn btn-outline-primary btn-sm">Open query in editor</a></p><h3 id=ukraine-schools>Ukraine Schools<a href=#ukraine-schools class=anchor aria-hidden=true>#</a></h3><figure><img class="img-fluid lazyload" data-sizes=auto src=https://dekart.xyz/docs/about/overture-maps-examples/f0941a67-350f-4a80-a9d0-27594f2f853d_hu7d83ef9858c8b294c5ff88af9ff091e5_670446_20x0_resize_box_3.png data-srcset="https://dekart.xyz/docs/about/overture-maps-examples/f0941a67-350f-4a80-a9d0-27594f2f853d_hu7d83ef9858c8b294c5ff88af9ff091e5_670446_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/f0941a67-350f-4a80-a9d0-27594f2f853d_hu7d83ef9858c8b294c5ff88af9ff091e5_670446_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/f0941a67-350f-4a80-a9d0-27594f2f853d_hu7d83ef9858c8b294c5ff88af9ff091e5_670446_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/f0941a67-350f-4a80-a9d0-27594f2f853d_hu7d83ef9858c8b294c5ff88af9ff091e5_670446_512x0_resize_box_3.png 512w" width=2024 height=1139><noscript><img class=img-fluid sizes=100vw srcset="https://dekart.xyz/docs/about/overture-maps-examples/f0941a67-350f-4a80-a9d0-27594f2f853d_hu7d83ef9858c8b294c5ff88af9ff091e5_670446_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/f0941a67-350f-4a80-a9d0-27594f2f853d_hu7d83ef9858c8b294c5ff88af9ff091e5_670446_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/f0941a67-350f-4a80-a9d0-27594f2f853d_hu7d83ef9858c8b294c5ff88af9ff091e5_670446_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/f0941a67-350f-4a80-a9d0-27594f2f853d_hu7d83ef9858c8b294c5ff88af9ff091e5_670446_512x0_resize_box_3.png 512w" src=https://dekart.xyz/docs/about/overture-maps-examples/f0941a67-350f-4a80-a9d0-27594f2f853d.png width=2024 height=1139></noscript></figure><p class=view-on-map><a href="https://cloud.dekart.xyz/reports/f0941a67-350f-4a80-a9d0-27594f2f853d/source?ref=dekart-xyz-view-map" target=_blank class="btn btn-outline-primary btn-sm">View interactive map</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>WITH</span><span class=w> </span><span class=n>ukraine_boundary</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>SELECT</span><span class=w> </span><span class=n>geometry</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>FROM</span><span class=w> </span><span class=o>`</span><span class=n>bigquery</span><span class=o>-</span><span class=k>public</span><span class=o>-</span><span class=k>data</span><span class=p>.</span><span class=n>overture_maps</span><span class=p>.</span><span class=n>division_area</span><span class=o>`</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>WHERE</span><span class=w> </span><span class=k>LOWER</span><span class=p>(</span><span class=k>names</span><span class=p>.</span><span class=k>primary</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;ukraine&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>AND</span><span class=w> </span><span class=n>subtype</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;country&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=n>l</span><span class=p>.</span><span class=n>id</span><span class=p>,</span><span class=w> </span><span class=n>l</span><span class=p>.</span><span class=k>names</span><span class=p>.</span><span class=k>primary</span><span class=p>,</span><span class=w> </span><span class=n>l</span><span class=p>.</span><span class=n>geometry</span><span class=p>,</span><span class=w> </span><span class=n>l</span><span class=p>.</span><span class=n>subtype</span><span class=p>,</span><span class=w> </span><span class=n>l</span><span class=p>.</span><span class=k>class</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=o>`</span><span class=n>bigquery</span><span class=o>-</span><span class=k>public</span><span class=o>-</span><span class=k>data</span><span class=p>.</span><span class=n>overture_maps</span><span class=p>.</span><span class=n>land_use</span><span class=o>`</span><span class=w> </span><span class=n>l</span><span class=p>,</span><span class=w> </span><span class=n>ukraine_boundary</span><span class=w> </span><span class=n>u</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>ST_WITHIN</span><span class=p>(</span><span class=n>l</span><span class=p>.</span><span class=n>geometry</span><span class=p>,</span><span class=w> </span><span class=n>u</span><span class=p>.</span><span class=n>geometry</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>AND</span><span class=w> </span><span class=k>LOWER</span><span class=p>(</span><span class=n>l</span><span class=p>.</span><span class=n>subtype</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;education&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>AND</span><span class=w> </span><span class=k>LOWER</span><span class=p>(</span><span class=n>l</span><span class=p>.</span><span class=k>class</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;school&#39;</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><p class=playground-link><a href='https://cloud.dekart.xyz/reports/f0941a67-350f-4a80-a9d0-27594f2f853d/source?ref=dekart-xyz-open-editor' target=_blank class="btn btn-outline-primary btn-sm">Open query in editor</a></p><h2 id=places>Places<a href=#places class=anchor aria-hidden=true>#</a></h2><p>The <code>place</code> table in the Overture Maps dataset contains points of interest (POIs) such as businesses, amenities, and public facilities.</p><h3 id=london-ev-charging-density>London EV Charging Density<a href=#london-ev-charging-density class=anchor aria-hidden=true>#</a></h3><figure><img class="img-fluid lazyload" data-sizes=auto src=https://dekart.xyz/docs/about/overture-maps-examples/af836766-9ec4-40fc-afbe-fc6b32d6593b_hu6a7f412c3e074252d0061661be069396_948847_20x0_resize_box_3.png data-srcset="https://dekart.xyz/docs/about/overture-maps-examples/af836766-9ec4-40fc-afbe-fc6b32d6593b_hu6a7f412c3e074252d0061661be069396_948847_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/af836766-9ec4-40fc-afbe-fc6b32d6593b_hu6a7f412c3e074252d0061661be069396_948847_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/af836766-9ec4-40fc-afbe-fc6b32d6593b_hu6a7f412c3e074252d0061661be069396_948847_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/af836766-9ec4-40fc-afbe-fc6b32d6593b_hu6a7f412c3e074252d0061661be069396_948847_512x0_resize_box_3.png 512w" width=2024 height=1139><noscript><img class=img-fluid sizes=100vw srcset="https://dekart.xyz/docs/about/overture-maps-examples/af836766-9ec4-40fc-afbe-fc6b32d6593b_hu6a7f412c3e074252d0061661be069396_948847_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/af836766-9ec4-40fc-afbe-fc6b32d6593b_hu6a7f412c3e074252d0061661be069396_948847_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/af836766-9ec4-40fc-afbe-fc6b32d6593b_hu6a7f412c3e074252d0061661be069396_948847_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/af836766-9ec4-40fc-afbe-fc6b32d6593b_hu6a7f412c3e074252d0061661be069396_948847_512x0_resize_box_3.png 512w" src=https://dekart.xyz/docs/about/overture-maps-examples/af836766-9ec4-40fc-afbe-fc6b32d6593b.png width=2024 height=1139></noscript></figure><p class=view-on-map><a href="https://cloud.dekart.xyz/reports/af836766-9ec4-40fc-afbe-fc6b32d6593b/source?ref=dekart-xyz-view-map" target=_blank class="btn btn-outline-primary btn-sm">View interactive map</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>WITH</span><span class=w> </span><span class=n>london_boundary</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>SELECT</span><span class=w> </span><span class=n>geometry</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>FROM</span><span class=w> </span><span class=o>`</span><span class=n>bigquery</span><span class=o>-</span><span class=k>public</span><span class=o>-</span><span class=k>data</span><span class=p>.</span><span class=n>overture_maps</span><span class=p>.</span><span class=n>division_area</span><span class=o>`</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>WHERE</span><span class=w> </span><span class=k>LOWER</span><span class=p>(</span><span class=k>names</span><span class=p>.</span><span class=k>primary</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;london&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>AND</span><span class=w> </span><span class=n>country</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;GB&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>ev_charging_stations</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>SELECT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>p</span><span class=p>.</span><span class=n>geometry</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>FROM</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>`</span><span class=n>bigquery</span><span class=o>-</span><span class=k>public</span><span class=o>-</span><span class=k>data</span><span class=p>.</span><span class=n>overture_maps</span><span class=p>.</span><span class=n>place</span><span class=o>`</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>p</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>london_boundary</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>lb</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>WHERE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>ST_WITHIN</span><span class=p>(</span><span class=n>p</span><span class=p>.</span><span class=n>geometry</span><span class=p>,</span><span class=w> </span><span class=n>lb</span><span class=p>.</span><span class=n>geometry</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>AND</span><span class=w> </span><span class=k>LOWER</span><span class=p>(</span><span class=n>p</span><span class=p>.</span><span class=n>categories</span><span class=p>.</span><span class=k>primary</span><span class=p>)</span><span class=w> </span><span class=k>LIKE</span><span class=w> </span><span class=s1>&#39;%charging%&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>bqcarto</span><span class=p>.</span><span class=n>h3</span><span class=p>.</span><span class=n>ST_ASH3</span><span class=p>(</span><span class=n>ev</span><span class=p>.</span><span class=n>geometry</span><span class=p>,</span><span class=w> </span><span class=mi>6</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>h3_cell</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>COUNT</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>station_count</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>ev_charging_stations</span><span class=w> </span><span class=n>ev</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>h3_cell</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><p class=playground-link><a href='https://cloud.dekart.xyz/reports/af836766-9ec4-40fc-afbe-fc6b32d6593b/source?ref=dekart-xyz-open-editor' target=_blank class="btn btn-outline-primary btn-sm">Open query in editor</a></p><h3 id=las-vegas-ev-charging>Las Vegas EV Charging<a href=#las-vegas-ev-charging class=anchor aria-hidden=true>#</a></h3><figure><img class="img-fluid lazyload" data-sizes=auto src=https://dekart.xyz/docs/about/overture-maps-examples/72781fb6-8bc5-4c41-839f-66f5bcf7c122_hu0be7362a5c7e17e00f83c537e4ee00cd_347956_20x0_resize_box_3.png data-srcset="https://dekart.xyz/docs/about/overture-maps-examples/72781fb6-8bc5-4c41-839f-66f5bcf7c122_hu0be7362a5c7e17e00f83c537e4ee00cd_347956_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/72781fb6-8bc5-4c41-839f-66f5bcf7c122_hu0be7362a5c7e17e00f83c537e4ee00cd_347956_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/72781fb6-8bc5-4c41-839f-66f5bcf7c122_hu0be7362a5c7e17e00f83c537e4ee00cd_347956_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/72781fb6-8bc5-4c41-839f-66f5bcf7c122_hu0be7362a5c7e17e00f83c537e4ee00cd_347956_512x0_resize_box_3.png 512w" width=2024 height=1139><noscript><img class=img-fluid sizes=100vw srcset="https://dekart.xyz/docs/about/overture-maps-examples/72781fb6-8bc5-4c41-839f-66f5bcf7c122_hu0be7362a5c7e17e00f83c537e4ee00cd_347956_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/72781fb6-8bc5-4c41-839f-66f5bcf7c122_hu0be7362a5c7e17e00f83c537e4ee00cd_347956_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/72781fb6-8bc5-4c41-839f-66f5bcf7c122_hu0be7362a5c7e17e00f83c537e4ee00cd_347956_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/72781fb6-8bc5-4c41-839f-66f5bcf7c122_hu0be7362a5c7e17e00f83c537e4ee00cd_347956_512x0_resize_box_3.png 512w" src=https://dekart.xyz/docs/about/overture-maps-examples/72781fb6-8bc5-4c41-839f-66f5bcf7c122.png width=2024 height=1139></noscript></figure><p class=view-on-map><a href="https://cloud.dekart.xyz/reports/72781fb6-8bc5-4c41-839f-66f5bcf7c122/source?ref=dekart-xyz-view-map" target=_blank class="btn btn-outline-primary btn-sm">View interactive map</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=w>  </span><span class=k>WITH</span><span class=w> </span><span class=n>las_vegas_boundary</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>SELECT</span><span class=w> </span><span class=n>geometry</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>FROM</span><span class=w> </span><span class=o>`</span><span class=n>bigquery</span><span class=o>-</span><span class=k>public</span><span class=o>-</span><span class=k>data</span><span class=p>.</span><span class=n>overture_maps</span><span class=p>.</span><span class=n>division_area</span><span class=o>`</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>WHERE</span><span class=w> </span><span class=k>names</span><span class=p>.</span><span class=k>primary</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&#34;Las Vegas&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>AND</span><span class=w> </span><span class=n>region</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&#34;US-NV&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>AND</span><span class=w> </span><span class=n>subtype</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&#34;locality&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>id</span><span class=p>,</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>geometry</span><span class=p>,</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=k>names</span><span class=p>.</span><span class=k>primary</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>station_name</span><span class=p>,</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>addresses</span><span class=p>,</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>websites</span><span class=p>,</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>phones</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=o>`</span><span class=n>bigquery</span><span class=o>-</span><span class=k>public</span><span class=o>-</span><span class=k>data</span><span class=p>.</span><span class=n>overture_maps</span><span class=p>.</span><span class=n>place</span><span class=o>`</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>p</span><span class=p>,</span><span class=w> </span><span class=n>las_vegas_boundary</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>lv</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=p>(</span><span class=n>p</span><span class=p>.</span><span class=n>categories</span><span class=p>.</span><span class=k>primary</span><span class=w> </span><span class=k>LIKE</span><span class=w> </span><span class=s2>&#34;%charging%&#34;</span><span class=w> </span><span class=k>OR</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>categories</span><span class=p>.</span><span class=k>primary</span><span class=w> </span><span class=k>LIKE</span><span class=w> </span><span class=s2>&#34;%ev%&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>AND</span><span class=w> </span><span class=n>ST_WITHIN</span><span class=p>(</span><span class=n>p</span><span class=p>.</span><span class=n>geometry</span><span class=p>,</span><span class=w> </span><span class=n>lv</span><span class=p>.</span><span class=n>geometry</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p class=playground-link><a href='https://cloud.dekart.xyz/reports/72781fb6-8bc5-4c41-839f-66f5bcf7c122/source?ref=dekart-xyz-open-editor' target=_blank class="btn btn-outline-primary btn-sm">Open query in editor</a></p><h3 id=uk-pubs-density>UK pubs density<a href=#uk-pubs-density class=anchor aria-hidden=true>#</a></h3><figure><img class="img-fluid lazyload" data-sizes=auto src=https://dekart.xyz/docs/about/overture-maps-examples/3205a875-b5d7-4458-a0b9-74fdeb49a44b_hu86f80945e5999c57c07b5917fb4c39f0_562101_20x0_resize_box_3.png data-srcset="https://dekart.xyz/docs/about/overture-maps-examples/3205a875-b5d7-4458-a0b9-74fdeb49a44b_hu86f80945e5999c57c07b5917fb4c39f0_562101_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/3205a875-b5d7-4458-a0b9-74fdeb49a44b_hu86f80945e5999c57c07b5917fb4c39f0_562101_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/3205a875-b5d7-4458-a0b9-74fdeb49a44b_hu86f80945e5999c57c07b5917fb4c39f0_562101_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/3205a875-b5d7-4458-a0b9-74fdeb49a44b_hu86f80945e5999c57c07b5917fb4c39f0_562101_512x0_resize_box_3.png 512w" width=1288 height=1032><noscript><img class=img-fluid sizes=100vw srcset="https://dekart.xyz/docs/about/overture-maps-examples/3205a875-b5d7-4458-a0b9-74fdeb49a44b_hu86f80945e5999c57c07b5917fb4c39f0_562101_2048x0_resize_box_3.png 2048w,https://dekart.xyz/docs/about/overture-maps-examples/3205a875-b5d7-4458-a0b9-74fdeb49a44b_hu86f80945e5999c57c07b5917fb4c39f0_562101_1600x0_resize_box_3.png 1600w,https://dekart.xyz/docs/about/overture-maps-examples/3205a875-b5d7-4458-a0b9-74fdeb49a44b_hu86f80945e5999c57c07b5917fb4c39f0_562101_1024x0_resize_box_3.png 1024w,https://dekart.xyz/docs/about/overture-maps-examples/3205a875-b5d7-4458-a0b9-74fdeb49a44b_hu86f80945e5999c57c07b5917fb4c39f0_562101_512x0_resize_box_3.png 512w" src=https://dekart.xyz/docs/about/overture-maps-examples/3205a875-b5d7-4458-a0b9-74fdeb49a44b.png width=1288 height=1032></noscript></figure><p class=view-on-map><a href="https://cloud.dekart.xyz/reports/3205a875-b5d7-4458-a0b9-74fdeb49a44b/source?ref=dekart-xyz-view-map" target=_blank class="btn btn-outline-primary btn-sm">View interactive map</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>WITH</span><span class=w> </span><span class=n>uk_boundary</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>SELECT</span><span class=w> </span><span class=n>geometry</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>FROM</span><span class=w> </span><span class=o>`</span><span class=n>bigquery</span><span class=o>-</span><span class=k>public</span><span class=o>-</span><span class=k>data</span><span class=p>.</span><span class=n>overture_maps</span><span class=p>.</span><span class=n>division_area</span><span class=o>`</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>WHERE</span><span class=w> </span><span class=k>LOWER</span><span class=p>(</span><span class=n>country</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;gb&#39;</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>subtype</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;country&#39;</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=k>class</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;land&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>pubs</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>SELECT</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>id</span><span class=p>,</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>geometry</span><span class=p>,</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=k>names</span><span class=p>.</span><span class=k>primary</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>FROM</span><span class=w> </span><span class=o>`</span><span class=n>bigquery</span><span class=o>-</span><span class=k>public</span><span class=o>-</span><span class=k>data</span><span class=p>.</span><span class=n>overture_maps</span><span class=p>.</span><span class=n>place</span><span class=o>`</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>p</span><span class=p>,</span><span class=w> </span><span class=n>uk_boundary</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>WHERE</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>categories</span><span class=p>.</span><span class=k>primary</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;pub&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>AND</span><span class=w> </span><span class=n>ST_WITHIN</span><span class=p>(</span><span class=n>p</span><span class=p>.</span><span class=n>geometry</span><span class=p>,</span><span class=w> </span><span class=n>uk_boundary</span><span class=p>.</span><span class=n>geometry</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=n>bqcarto</span><span class=p>.</span><span class=n>h3</span><span class=p>.</span><span class=n>ST_ASH3</span><span class=p>(</span><span class=n>p</span><span class=p>.</span><span class=n>geometry</span><span class=p>,</span><span class=w> </span><span class=mi>8</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>h3_index</span><span class=p>,</span><span class=w> </span><span class=k>COUNT</span><span class=p>(</span><span class=n>p</span><span class=p>.</span><span class=n>id</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>pub_count</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>pubs</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>p</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>h3_index</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>pub_count</span><span class=w> </span><span class=k>DESC</span><span class=w>
</span></span></span></code></pre></div><p class=playground-link><a href='https://cloud.dekart.xyz/reports/3205a875-b5d7-4458-a0b9-74fdeb49a44b/source?ref=dekart-xyz-open-editor' target=_blank class="btn btn-outline-primary btn-sm">Open query in editor</a></p><p class=edit-page><a href=https://github.com/dekart-xyz/www/blob/main/content/docs/about/overture-maps-examples/index.md><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828.0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>Edit this page on GitHub</a></p><div class="docs-navigation d-flex justify-content-between"><a href=https://dekart.xyz/docs/about/map-templates/><div class="card my-1"><div class="card-body py-2">&larr; Reusable Map Templates</div></div></a><a class=ml-auto href=https://dekart.xyz/docs/about/snowflake-kepler-gl-examples/><div class="card my-1"><div class="card-body py-2">Snowflake Kepler.gl Maps Examples &rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container><div class=col-16><ul class=list-inline><li class=list-inline-item>ðŸ›Ÿ <a href=https://slack.dekart.xyz/ target=_blank>Ask in Slack</a></li><li class=list-inline-item><a href=/legal/>Legal</a></li><li class=list-inline-item><a href=/carto/>Lightweight alternative to CARTO</a></li></ul></div></div></footer><script src=https://dekart.xyz/main.6aedabf29b1e9276b2cecddc8ad7aa10bc927a3bee04aa5d5671088a8af6a2a939fd5e8c8a1de6ffc40607e5478a5e47644959bd7fad3807ef443d60ee5d8263.js integrity="sha512-au2r8pseknayzs3citeqELySejvuBKpdVnEIior2oqk5/V6Mih3m/8QGB+VHil5HZElZvX+tOAfvRD1g7l2CYw==" crossorigin=anonymous defer></script>
<script src=https://dekart.xyz/index.min.e4acc017a6543bb97274af617a8a0d53b707f790dc890845aad92e5431ae99af5df90139c17a3235ebe406870ca65ed039999742d763a39dffc61e66c9609e88.js integrity="sha512-5KzAF6ZUO7lydK9heooNU7cH95DciQhFqtkuVDGuma9d+QE5wXoyNevkBocMpl7QOZmXQtdjo53/xh5myWCeiA==" crossorigin=anonymous defer></script></body></html>