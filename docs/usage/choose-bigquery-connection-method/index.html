<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=stylesheet href=https://dekart.xyz/main.94c86fee23dfa031d74d9736aa0d52032c73a949d8cfb5316ef7bb6d56a8a11d1dd39f7d5871ea159f9dbd8101209d99384c8100a25579ac4b61f2e261364875.css integrity="sha512-lMhv7iPfoDHXTZc2qg1SAyxzqUnYz7Uxbve7bVaooR0d0599WHHqFZ+dvYEBIJ2ZOEyBAKJVeaxLYfLiYTZIdQ==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>BigQuery Connection Guide - Dekart</title><meta name=description content="Choose BigQuery Connection Method"><link rel=canonical href=https://dekart.xyz/docs/usage/choose-bigquery-connection-method/><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://dekart.xyz/dekart-social-preview-0-16.png"><meta name=twitter:title content="BigQuery Connection Guide"><meta name=twitter:description content="Choose BigQuery Connection Method"><meta name=twitter:creator content="@delfrrr"><meta property="og:title" content="BigQuery Connection Guide"><meta property="og:description" content="Choose BigQuery Connection Method"><meta property="og:type" content="article"><meta property="og:url" content="https://dekart.xyz/docs/usage/choose-bigquery-connection-method/"><meta property="og:image" content="https://dekart.xyz/dekart-social-preview-0-16.png"><meta property="article:published_time" content="2025-01-01T07:48:05+01:00"><meta property="article:modified_time" content="2025-04-11T08:21:31+02:00"><meta property="og:site_name" content="Dekart"><meta property="og:locale" content="en_US"><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=https://dekart.xyz/apple-icon.png><link rel=icon type=image/png sizes=32x32 href=https://dekart.xyz/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://dekart.xyz/favicon-16x16.png><link rel=manifest href=https://dekart.xyz/site.webmanifest><script defer data-domain=dekart.xyz src=https://plausible.io/js/script.tagged-events.js></script></head><body><div class="header-bar fixed-top"></div><header class="navbar fixed-top navbar-expand-md navbar-light"><div class=container><input class="menu-btn order-0" type=checkbox id=menu-btn>
<label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label>
<a class="navbar-brand order-1 order-md-0 mr-auto" href=https://dekart.xyz/>Dekart</a><ul class="navbar-nav social-nav order-3 order-md-5"><li class=nav-item><a class=nav-link href=http://github.com/dekart-xyz/dekart><svg width="24" height="24" viewBox="0 0 1024 1024" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M512 0C229.12.0.0 229.12.0 512c0 226.56 146.56 417.92 350.08 485.76 25.6 4.48 35.2-10.88 35.2-24.32.0-12.16-.64-52.48-.64-95.36-128.64 23.68-161.92-31.36-172.16-60.16-5.76-14.72-30.72-60.16-52.48-72.32-17.92-9.6-43.52-33.28-.64-33.92 40.32-.64 69.12 37.12 78.72 52.48 46.08 77.44 119.68 55.68 149.12 42.24 4.48-33.28 17.92-55.68 32.64-68.48-113.92-12.8-232.96-56.96-232.96-252.8.0-55.68 19.84-101.76 52.48-137.6-5.12-12.8-23.04-65.28 5.12-135.68.0.0 42.88-13.44 140.8 52.48 40.96-11.52 84.48-17.28 128-17.28s87.04 5.76 128 17.28c97.92-66.56 140.8-52.48 140.8-52.48 28.16 70.4 10.24 122.88 5.12 135.68 32.64 35.84 52.48 81.28 52.48 137.6.0 196.48-119.68 240-233.6 252.8 18.56 16 34.56 46.72 34.56 94.72.0 68.48-.64 123.52-.64 140.8.0 13.44 9.6 29.44 35.2 24.32C877.44 929.92 1024 737.92 1024 512 1024 229.12 794.88.0 512 0z" fill="#1b1f23"/></svg><span class="ml-2 sr-only">GitHub</span></a></li></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav mr-auto order-5 order-md-2"><li class=nav-item><div id=suggestions class="shadow bg-white rounded"></div><a class="nav-link text-nowrap" href="https://cloud.dekart.xyz/?ref=login">Login</a></li><li class=nav-item><div id=suggestions class="shadow bg-white rounded"></div><a class="nav-link text-nowrap" href=https://dekart.xyz/cloud>Pricing</a></li><li class="nav-item active"><div id=suggestions class="shadow bg-white rounded"></div><a class="nav-link text-nowrap" href=https://dekart.xyz/docs/>Docs</a></li><li class=nav-item><div id=suggestions class="shadow bg-white rounded"></div><a class="nav-link text-nowrap" href=https://github.com/dekart-xyz/dekart>GitHub</a></li><li class=nav-item><div id=suggestions class="shadow bg-white rounded"></div><a class="nav-link text-nowrap" href=https://slack.dekart.xyz>Slack</a></li></ul><div class="break order-6 d-md-none"></div><form class="navbar-form flex-grow-1 order-7 order-md-3"><input id=userinput class="form-control is-search" type=search placeholder="Search docs..." aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded"></div></form></div></div></header><div class="wrap container" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar"><nav class=docs-links aria-label="Main navigation"><h3>About</h3><ul class=list-unstyled><li><a class=docs-link href=https://dekart.xyz/docs/about/playground/>BigQuery Playground</a></li><li><a class=docs-link href=https://dekart.xyz/docs/about/screencast/>Dekart Screencast</a></li></ul><h3>Map Examples</h3><ul class=list-unstyled><li><a class=docs-link href=https://dekart.xyz/docs/about/overture-maps-examples/>BigQuery Overture Maps</a></li><li><a class=docs-link href=https://dekart.xyz/docs/about/kepler-gl-map-examples/>BigQuery Public Datasets</a></li><li><a class=docs-link href=https://dekart.xyz/docs/about/map-templates/>Map Templates</a></li><li><a class=docs-link href=https://dekart.xyz/docs/about/snowflake-kepler-gl-examples/>Snowflake Free Datasets</a></li></ul><h3>Snowpark</h3><ul class=list-unstyled><li><a class=docs-link href=https://dekart.xyz/docs/snowflake-snowpark/about/>Dekart Snowpark Application</a></li></ul><h3>Configuration</h3><ul class=list-unstyled><li><a class=docs-link href=https://dekart.xyz/docs/configuration/environment-variables/>Environment Variables</a></li></ul><h3>Usage</h3><ul class=list-unstyled><li><a class="docs-link active" href=https://dekart.xyz/docs/usage/choose-bigquery-connection-method/>BigQuery Connection Guide</a></li><li><a class=docs-link href=https://dekart.xyz/docs/usage/google-cloud-grant-scopes-faq/>Google Cloud Grant Scopes</a></li><li><a class=docs-link href=https://dekart.xyz/docs/usage/query-parameters/>Query Parameters</a></li><li><a class=docs-link href=https://dekart.xyz/docs/usage/cloud-security-faq/>Security Considerations</a></li></ul><h3>Self-Hosting</h3><ul class=list-unstyled><li><a class=docs-link href=https://dekart.xyz/docs/self-hosting/app-engine/>Google App Engine</a></li><li><a class=docs-link href=https://dekart.xyz/docs/self-hosting/aws-ecs-terraform/>Amazon ECS</a></li><li><a class=docs-link href=https://dekart.xyz/docs/self-hosting/docker/>Docker</a></li><li><a class=docs-link href=https://dekart.xyz/docs/self-hosting/docker-compose/>Docker Compose</a></li><li><a class=docs-link href=https://dekart.xyz/docs/self-hosting/upgrade/>Upgrade to new version</a></li></ul><h3>Contributing</h3><ul class=list-unstyled><li><a class=docs-link href=https://dekart.xyz/docs/contributing/architecture-overview/>Architecture</a></li><li><a class=docs-link href=https://dekart.xyz/docs/contributing/build-from-source/>Build from Source</a></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#which-permissions-are-required>Which Permissions Are Required?</a><ul><li><a href=#bigquery-permissions>BigQuery Permissions</a></li><li><a href=#gcp-project-access>GCP Project Access</a></li><li><a href=#why-these-permissions>Why these permissions?</a></li></ul></li><li><a href=#how-to-get-a-service-account-key>How to Get a Service Account Key</a></li><li><a href=#how-is-the-key-secured>How Is the Key Secured?</a></li><li><a href=#still-have-questions>Still Have Questions?</a></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9 mx-xl-auto"><h1>BigQuery Connection Guide</h1><p class=lead></p><p>Dekart offers two ways to connect to BigQuery:</p><ol><li><strong>Google Account (OAuth Pass-Through)</strong></li><li><strong>Service Account Key (JSON)</strong></li></ol><p>This page explains the permissions you need when using a Google account and how to obtain and secure a Service Account Key if that‚Äôs your preferred method.</p><h2 id=which-permissions-are-required>Which Permissions Are Required?<a href=#which-permissions-are-required class=anchor aria-hidden=true>#</a></h2><p>If you choose to connect with your <strong>Google account</strong>:</p><h3 id=bigquery-permissions>BigQuery Permissions<a href=#bigquery-permissions class=anchor aria-hidden=true>#</a></h3><p>You must have at following roles in the BigQuery project you want to query:</p><ul><li><code>BigQuery Data Viewer</code></li><li><code>BigQuery Job User</code></li><li><code>BigQuery Read Session User</code></li><li><code>Storage Object User</code></li></ul><h3 id=gcp-project-access>GCP Project Access<a href=#gcp-project-access class=anchor aria-hidden=true>#</a></h3><ul><li>Your Google account must be associated with the Google Cloud project that contains the datasets you want to query.</li><li>If you‚Äôre uncertain, check with your GCP admin or log in to the <a href=https://console.cloud.google.com/>Google Cloud Console</a> to see if you have the necessary roles assigned.</li></ul><h3 id=why-these-permissions>Why these permissions?<a href=#why-these-permissions class=anchor aria-hidden=true>#</a></h3><p>Dekart passes your short-lived OAuth token, stored in your browser, to BigQuery. This way you can implement user-level and dataset-level access controls and audit logs in BigQuery. Dekart never stores tokens or query results in its backend.</p><h2 id=how-to-get-a-service-account-key>How to Get a Service Account Key<a href=#how-to-get-a-service-account-key class=anchor aria-hidden=true>#</a></h2><p>For <strong>Service Account JSON</strong> connections, you‚Äôll need a service account in your Google Cloud project:</p><ol><li><p><strong>Create or Select a Service Account</strong></p><ul><li>Go to the <a href=https://console.cloud.google.com/iam-admin/serviceaccounts>Google Cloud Console ‚Üí IAM & Admin ‚Üí Service Accounts</a>.</li><li>If you already have a service account that has sufficient BigQuery roles (e.g., ‚ÄúBigQuery JobUser‚Äù), you can reuse it. Otherwise, create a new one.</li></ul></li><li><p><strong>Assign BigQuery Roles</strong></p><ul><li>Under ‚ÄúPermissions,‚Äù give the service account the roles it needs<ul><li><code>BigQuery Data Viewer</code></li><li><code>BigQuery Job User</code></li><li><code>BigQuery Read Session User</code></li><li><code>Storage Object User</code> (optionally for cache storage)</li></ul></li></ul></li><li><p><strong>Generate a Key File (JSON)</strong></p><ul><li>From the Service Accounts list, click the account you want to use.</li><li>Select ‚ÄúKeys‚Äù ‚Üí ‚ÄúAdd Key‚Äù ‚Üí ‚ÄúCreate new key.‚Äù</li><li>Pick <strong>JSON</strong> as the key type, then click ‚ÄúCreate.‚Äù</li><li>A JSON file will be downloaded to your computer‚Äîthis is the file Dekart needs to connect.</li></ul></li></ol><h2 id=how-is-the-key-secured>How Is the Key Secured?<a href=#how-is-the-key-secured class=anchor aria-hidden=true>#</a></h2><p>When you upload your JSON key to Dekart:</p><ul><li><p><strong>Encryption at Rest</strong></p><ul><li>Your key is encrypted using AES (Advanced Encryption Standard) in GCM (Galois/Counter Mode) and stored in the Dekart backend. Encryption keys are stored in Google Cloud KMS (Key Management Service).</li><li>You can review our implementation on <a href=https://github.com/dekart-xyz/dekart/blob/main/src/server/secrets/secrets.go>GitHub</a></li></ul></li><li><p><strong>Encryption in Transit</strong></p><ul><li>Dekart uses HTTPS to encrypt data in transit between your browser and the Dekart backend.</li><li>Dekart additionally encrypts secrets in transit using temporary encryption keys.</li><li>You can review our implementation on <a href=https://github.com/dekart-xyz/dekart/blob/b093ff5e5f0a24ae4e13604253dfcc56f2465a0f/src/client/actions/connection.js#L211>GitHub</a></li></ul></li><li><p><strong>No Unnecessary Sharing</strong></p><ul><li>Dekart never exposes your key in Dekart User Interface. Key can be updated or deleted by workspace admin only. It cannot be read or downloaded by anyone.</li></ul></li><li><p><strong>Revoking Access</strong></p><ul><li>If you ever lose control of the key or need to discontinue its use, you can delete it from the GCP Console under ‚ÄúService Accounts‚Äù ‚Üí ‚ÄúKeys.‚Äù Once revoked, any existing connections relying on that key will cease to function, ensuring you maintain full control over who can query BigQuery.</li></ul></li></ul><h2 id=still-have-questions>Still Have Questions?<a href=#still-have-questions class=anchor aria-hidden=true>#</a></h2><p>We are happy to guide you through the process:</p><ul><li>Schedule a call with engineers via <a href=https://calendly.com/vladi-dekart/30min>Calendly</a></li><li>Contact us in <a href=https://slack.dekart.xyz/>Slack</a></li><li>Email us at <a href=mailto:support@dekart.xyz>support@dekart.xyz</a></li></ul><p class=edit-page><a href=https://github.com/dekart-xyz/www/blob/main/content/docs/usage/choose-bigquery-connection-method.md><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828.0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>Edit this page on GitHub</a></p><div class="docs-navigation d-flex justify-content-between"><a href=https://dekart.xyz/docs/about/public-dataset-examples/><div class="card my-1"><div class="card-body py-2">&larr; Examples with Public Datasets</div></div></a><a class=ml-auto href=https://dekart.xyz/docs/snowflake-snowpark/about/><div class="card my-1"><div class="card-body py-2">Dekart Snowpark Application &rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container><div class=col-16><ul class=list-inline><li class=list-inline-item>üõü <a href=https://slack.dekart.xyz/ target=_blank>Ask in Slack</a></li><li class=list-inline-item><a href=/legal/>Legal</a></li><li class=list-inline-item><a href=/carto/>Lightweight alternative to CARTO</a></li></ul></div></div></footer><script src=https://dekart.xyz/main.6aedabf29b1e9276b2cecddc8ad7aa10bc927a3bee04aa5d5671088a8af6a2a939fd5e8c8a1de6ffc40607e5478a5e47644959bd7fad3807ef443d60ee5d8263.js integrity="sha512-au2r8pseknayzs3citeqELySejvuBKpdVnEIior2oqk5/V6Mih3m/8QGB+VHil5HZElZvX+tOAfvRD1g7l2CYw==" crossorigin=anonymous defer></script>
<script src=https://dekart.xyz/index.min.8a0e997c9851fa626212f0014a09bc009087e2e5ad1435afb5131cd58e5d89f8589019c36e752110e85cfa10067805ecb2fb497b0957bb21f6dfd05333fb7452.js integrity="sha512-ig6ZfJhR+mJiEvABSgm8AJCH4uWtFDWvtRMc1Y5difhYkBnDbnUhEOhc+hAGeAXssvtJewlXuyH239BTM/t0Ug==" crossorigin=anonymous defer></script></body></html>